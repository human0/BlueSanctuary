<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Blue sanctuary bnb">
    <meta name="keywords" content="bnb, airbnb, sanctuary, capetown, holiday, relalxation, relax, book, reservation, booking.com">
    <meta name="author" content="Blue Santuary">
	<title>Blue Sanctuary</title>
	<!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <!-- icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Custom CSS -->
	<style type="text/css">
		body {
			font-family: Arial, sans-serif;
			margin: 0;
			padding: 0;
      background-image: url("pool.gif");
      background-repeat: repeat;
      font-size: 18px;
		}
		.section {
			padding: 50px 0;
			text-align: center;
      background-color:rgba(255, 255, 255, 0.8) !important;
		}
    .section img {
      opacity: 0.9;
    }
		.section p {
			font-size: 18px;
			line-height: 1.5;
			margin: 20px 0;
		}
		.section h2 {
      color: #aaa;
			font-size: 36px;
			font-weight: bold;
			margin-bottom: 20px;
		}
	     /* Set the height of the map to 400 pixels */
       .section {
        display: block;
        margin-bottom: 20px; /* add some margin to separate the sections */
      }
      .clear {
        clear: both;
      }
      #map {
          height: 400px;
          display: block;
      }
      body {
        margin-top: 100px;
        font-family: Arial, sans-serif;
        background-color: #f2f2f2;
      }
      .home {
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 10px;
        margin: 10px;
        width: 350px;
        background-color: #fff;
        box-shadow: 0 0 5px #ccc;
        transition: box-shadow 0.3s ease;
      }
      .home:hover {
        box-shadow: 0 0 5px #00aaff;
      }
      .home h2 {
        margin-top: 0;
        font-size: 1.5em;
        color: #333;
      }
      .home p {
        color: #666;
      }
      .home img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        margin-bottom: 10px;
      }
      .icon {
        width: 20px !important;
        height: auto !important;
        object-fit:fill !important;
        margin-bottom: 5px !important;
      }
      #navbar {
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 9999;
      }
      .navbar-default {
        display: flex;
        justify-content: center;
      }
      .navbar-center {
        display: flex;
        justify-content: center;
        margin: 0 auto;
        float: none;
      }
      .nav li a {
        color: #666 !important;
      }
      
      .navbar-brand {
        color: #999 !important;
      }

      .nav li a:hover, .navbar-brand:hover {
        color: #00aaff !important;
      }
      #our-homes .row {
          text-align: center;
          display: inline-block
      }
      #about-us img {
        -ms-flex-item-align: center;
        margin: 6px;
      }

      .form-control:focus {
        box-shadow: none;
      }
      .form-group label {
        font-weight: bold;
      }
      .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
      }
      .btn-primary:hover {
        background-color: #0069d9;
        border-color: #0062cc;
      }
      .alert {
        margin-top: 20px;
      }
      
      .modal-dialog {
        margin-top: 200px;
      }
      .greyColor {
        color: #666 !important;
      }
      .lightGreyColor {
        color: #999 !important;
      }
      .greenColor{
        color: #696;
      }
      #termsModal .modal-body {
        max-height: 300px;
        overflow-y: auto;
      }
      #termsModal {
        color: #666666;
      }
      #termsModal ol {
        counter-reset: item;
      }
      #termsModal li {
        display: block;
      }
      #termsModal li:before {
        content: counters(item, ".") " ";
        counter-increment: item;
      }
      #termsModal b {
        font-size: 16px;
      }
      .push-right {
        float: right;
      }
      .modal {
        display: none;
        position: fixed;
        z-index: 1;
        padding-top: 100px;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5);
      }

      .modal-content {
        margin: auto;
        display: block;
        width: 80%;
        max-width: 700px;
      }

      .modal-content, #modalCaption {
        animation-name: zoom;
        animation-duration: 0.6s;
      }

      @keyframes zoom {
        from {transform:scale(0)}
        to {transform:scale(1)}
      }

      .close {
        position: absolute;
        top: 15px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
      }

      .close:hover,
      .close:focus {
        color: #bbb;
        text-decoration: none;
        cursor: pointer;
      }

      /* Next & Previous Buttons */
      .prev,
      .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        padding: 16px;
        margin-top: -50px;
        color: white;
        font-weight: bold;
        font-size: 20px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        user-select: none;
        -webkit-user-select: none;
      }

      .next {
        right: 0;
        border-radius: 3px 0 0 3px;
      }

      .prev:hover,
      .next:hover {
        background-color: rgba(0, 0, 0, 0.8);
      }

      /* Caption */
      #modalCaption {
        margin: auto;
        display: block;
        width: 80%;
        max-width: 700px;
        text-align: center;
        color: #ccc;
        padding: 10px 0;
        height: 150px;
      }

      .carousel {
          position: relative;
          width: 100%;
          overflow: hidden;
      }
      .carousel-image {
          display: none;
          width: 100%;
          height: auto;
      }

      .carousel-image:first-child {
          display: block;
      }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!-- Include the Google Maps JavaScript API -->
    <script>
      // jQuery
      $(document).ready(function() {
        $('.home').hover(function() {
          $(this).css('box-shadow', '0 0 5px #00aaff');
        }, function() {
          $(this).css('box-shadow', '0 0 5px #ccc');
        });
      });

      $(document).ready(function() {
        // Add smooth scrolling to all links
        $("a").on('click', function(event) {

          // Make sure this.hash has a value before overriding default behavior
          if (this.hash !== "") {
            // Prevent default anchor click behavior
            event.preventDefault();

            // Store hash
            var hash = this.hash;
            var position = ($(hash).offset().top - 100)
            position = position > 0 ? position : 0;
            // Using jQuery's animate() method to add smooth page scroll
            // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
            $('html, body').animate({
              scrollTop: position
            }, 800, function(){

              // Add hash (#) to URL when done scrolling (default click behavior)
              window.location.hash = hash - 100;
            });
          } // End if
        });
      });

    </script>
</head>
<body>
	<!-- Navigation bar -->
	<nav class="navbar navbar-default" id="navbar">
		<div class="container-fluid">
			<div class="navbar-header navbar-center">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Blue Sanctuary</a>
			</div>

			<div class="collapse navbar-collapse" id="navbar-collapse">
				<ul class="nav navbar-nav">
					<li><a href="#about-us">About Us</a></li>
					<li><a href="#our-homes">Our Homes</a></li>
					<li><a href="#the-map">The Map</a></li>
					<li><a href="#contact-us">Contact Us</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<!-- About Us section -->
	<section id="about-us" class="section">
    <div class="container">
      <div class="row">
        <h2 class="text-uppercase">About Us</h2>
        <div class="text-center"></div>


          <img src="EM1.png" class="mx-auto d-block" alt="Safety Icon" width="120px">


          <p class="text-center">Welcome to Blue Sanctuary, where rest and safety are our top priority. Our airbnb is designed to provide a serene and tranquil environment for tourists and travelers alike. We understand that your vacation should be a time to unwind and recharge, and we have gone to great lengths to ensure that our space is both welcoming and peaceful. From cozy furnishings to top-of-the-line safety features, we are dedicated to making your stay with us a restful and rejuvenating experience. So come and make yourself at home at Blue Sanctuary, your safe haven away from home.</p>
        </div>
    </div>
	</section>

  <section id="our-homes" class="section">
    <div class="container">
      <h2 class="text-uppercase">Our homes </h2>
      <div class="row"> 
        <div class="col-md-12 col-lg-6 home mx-auto text-center">
          <div class="carousel">
            <img id="slideImage1" class="carousel-image" src="https://cf2.bstatic.com/xdata/images/hotel/max1280x900/490329940.jpg?k=aa1015d90b141cc2d61c12101942772792ffb65622be1bf353f962a5a5c4a32b&o=&hp=1" alt="Parklands, Cape Town">
            <img id="slideImage2" class="carousel-image" src="https://a0.muscache.com/im/pictures/miso/Hosting-50219412/original/5b77d730-a7e9-4a25-a7be-d8d90dbcefbb.jpeg?im_w=240" alt="House with a Pool at 35 Fernwood Close, Parklands, Cape Town">
            <img id="slideImage3" class="carousel-image" src="https://a0.muscache.com/im/pictures/miso/Hosting-831222011142737017/original/ac90d1ad-1c25-4729-8f8a-78aef7b0f7d5.jpeg?im_w=240" alt="Apartment at Gardens, Cape Town">
          </div>
            <h2>One private room</h2>
            <p>A cozy apartment next to swimming pool. Perfect for traveling single or couple, looking for a brief rest.</p>
            <p><i class="fa fa-map-marker"></i> Parklands, Cape Town</p>
            <p><i class="fa fa-bed"></i> 1 bedroom</p>
            <p><i class="fa fa-users"></i> Up to 2 guests</p>
            <button type="button" class="btn btn-success btn-lg btn-block" data-toggle="modal" data-target="#myModal" data-base-price="250" data-max-people="2"  data-max-rooms="1" data-name="One private room" data-booking-type="Hour(s)">Hourly Booking</button>

        </div>
        <div class="col-md-12 col-lg-6 home mx-auto text-center">
          <div class="carousel">
            <img id="slideImage4" class="carousel-image" src="https://a0.muscache.com/im/pictures/miso/Hosting-50219412/original/5b77d730-a7e9-4a25-a7be-d8d90dbcefbb.jpeg?im_w=240" alt="House with a Pool at 35 Fernwood Close, Parklands, Cape Town">
            <img id="slideImage5" class="carousel-image" src="https://cf2.bstatic.com/xdata/images/hotel/max1280x900/490329940.jpg?k=aa1015d90b141cc2d61c12101942772792ffb65622be1bf353f962a5a5c4a32b&o=&hp=1" alt="Parklands, Cape Town">
            <img id="slideImage6" class="carousel-image" src="https://a0.muscache.com/im/pictures/miso/Hosting-831222011142737017/original/ac90d1ad-1c25-4729-8f8a-78aef7b0f7d5.jpeg?im_w=240" alt="Apartment at Gardens, Cape Town">
          </div>
          <h2>Entire Pool House</h2>
          <p>A spacious house with a pool and stunning views of the surrounding mountains. Great for families or groups.</p>
          <p><i class="fa fa-map-marker"></i> Parklands, Cape Town</p>
          <p><i class="fa fa-bed"></i> 3 bedrooms</p>
          <p><i class="fa fa-users"></i> Up to 6 guests</p>
          <button type="button" class="btn btn-success btn-outline btn-lg btn-block" data-toggle="modal" data-base-price="1200" data-target="#myModal" data-max-people="6" data-max-rooms="3" data-name="Entire Pool House" data-booking-type="Day(s)">Daily booking</button>
          <a class="btn-primary btn-sm btn-block" href="https://www.booking.com/hotel/za/blue-sanctuary.en-gb.html" class="d-flex">
            <img class="icon" src="booking.png"/>
            &nbsp; Booking.com &nbsp;
            <span class="glyphicon glyphicon-share-alt push-right"></span>
          </a>
        </div>
        <div class="col-md-12 col-lg-6   home mx-auto text-center">
          <div class="carousel">
            <img id="slideImage7" class="carousel-image" src="https://a0.muscache.com/im/pictures/miso/Hosting-831222011142737017/original/ac90d1ad-1c25-4729-8f8a-78aef7b0f7d5.jpeg?im_w=240" alt="Apartment at Gardens, Cape Town">
            <img id="slideImage8" class="carousel-image" src="https://a0.muscache.com/im/pictures/miso/Hosting-50219412/original/5b77d730-a7e9-4a25-a7be-d8d90dbcefbb.jpeg?im_w=240" alt="House with a Pool at 35 Fernwood Close, Parklands, Cape Town">
            <img id="slideImage9" class="carousel-image" src="https://cf2.bstatic.com/xdata/images/hotel/max1280x900/490329940.jpg?k=aa1015d90b141cc2d61c12101942772792ffb65622be1bf353f962a5a5c4a32b&o=&hp=1" alt="Parklands, Cape Town">
          </div>
          <h2>St Martini Apartment</h2>
          <p>A cozy apartment located in the heart of Gardens, Cape Town. Perfect for couples or solo travelers.</p>
          <p><i class="fa fa-map-marker"></i> Gardens, Cape Town</p>
          <p><i class="fa fa-bed"></i> 1 bedroom</p>
          <p><i class="fa fa-users"></i> Up to 2 guests</p>
          <button type="button" class="btn btn-secondary btn-lg btn-block disabled" data-toggle="modal" data-target="#myModal" data-base-price="750" data-max-people="2"  data-max-rooms="1" data-name="St Martini Apartment">Closed</button>
        </div>
        <div class="map">
          <!-- Map code goes here -->
        </div>
      </div>
    </div>
  </section>

	<!-- The Map section -->
	<section id="the-map" class="section">
		<div class="container">
      <div class="Section clear"> 
        <h2 class="text-uppercase">The map</h2>
        <div id="map"></div>
      </div>
		</div>
	</section>

	<!-- Contact Us section -->
	<section id="contact-us" class="section">
		<div class="container">
			<h2 class="text-uppercase">Contact Us</h2>
			<p>Have a question or need more information?</p>
		</div>
    <div class="container py-5">
      <div class="row">
        <div class="col-md-12 mx-auto">
          <div class="card rounded-0">
            <div class="card-header">
            </div>
            <div class="card-body">
              <form class="form" id="contact-form" role="form" autocomplete="off">
                <div class="form-group col-md-2">
                  <label for="title">Title</label>
                  <select class="form-control" id="title" required>
                    <option value="" disabled selected>Select title</option>
                    <option value="mr">Mr.</option>
                    <option value="ms">Ms.</option>
                    <option value="mrs">Mrs.</option>
                  </select>
                </div>
                <div class="form-group col-md-5">
                  <label for="name">Name</label>
                  <input type="text" class="form-control" id="name" placeholder="Enter your name" required>
                </div>
                <div class="form-group col-md-5">
                  <label for="surname">Surname</label>
                  <input type="text" class="form-control" id="surname" placeholder="Enter your surname" required>
                </div>
                <div class="form-group col-md-6">
                  <label for="number">Number</label>
                  <input type="text" class="form-control" id="number" placeholder="Enter your number" required>
                </div>
                <div class="form-group col-md-6">
                  <label for="email">Email</label>
                  <input type="email" class="form-control" id="email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                  <label for="message">Message</label>
                  <textarea class="form-control" id="message" rows="5" required></textarea>
                </div>
                <div class="form-group">
                  <button type="submit" class="btn btn-primary btn-block"><i class="fa fa-paper-plane"></i> Send</button>
                </div>

              </form>
              <div class="alert alert-success mt-4" style="display:none" role="alert">
                Your message has been sent successfully!
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
	</section>
    <script>
        // Initialize the map
        function initMap() {
            // Create a new map centered on the first location
            var map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: -33.82676629882478, lng: 18.415170054791638},
                zoom: 10
            });

            // Create a marker for the first location
            var marker1 = new google.maps.Marker({
                title: "Blue Sanctuary Pool House",
                position: {lat: -33.736033521997754, lng: 18.521339659176753},
                map: map
            });

            // Create a marker for the second location
            var marker2 = new google.maps.Marker({
                title: "St Martini Garden Apartment",
                position: {lat: -33.92676629882478, lng: 18.415170054791638},
                map: map
            });
            
            // Add info window to display the titles when the markers are clicked
            var infoWindow1 = new google.maps.InfoWindow({
                content: marker1.title
            });

            var infoWindow2 = new google.maps.InfoWindow({
                content: marker2.title
            });

            // Add a click event listener to each marker to open its info window
            marker1.addListener('click', function() {
                infoWindow1.open(map, marker1);
            });

            marker2.addListener('click', function() {
                infoWindow2.open(map, marker2);
            });
        }
    </script>
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAC5Vxe8-7ZpZZKjQE717vLve2buevS4r8&callback=initMap">
    </script> 
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script>
      $(document).ready(function() {

        $('#modal-form').submit(function(e) {
          e.preventDefault();
          saveChanges()
        });

        $('#contact-form').submit(function(e) {
          e.preventDefault();
          var name = $('#name').val();
          var surname = $('#surname').val();
          var number = $('#number').val();
          var email = $('#email').val();
          var message = $('#message').val();
          $.ajax({
            type: 'POST',
            url: 'https://formspree.io/f/mnqkywby',
            dataType : "json",
            data: {
              title: $('#title').val(),
              name: name,
              surname: surname,
              number: number,
              email: email,
              message: message
            },
            success: function() {
              alert('Thank you for contacting us! We will get back to you soon.');
              $('#name').val('');
              $('#surname').val('');
              $('#number').val('');
              $('#email').val('');
              $('#message').val('');
            },
            error: function() {
              alert('There was an error submitting the form. Please try again.');
            }
          });
        });
      });
    </script>
  <footer class="navbar navbar-default navbar-fixed-bottom">
    <div class="container">
     
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <ul class="nav navbar-nav navbar-center">
        <li><a href="#about-us">About Us</a></li>
        <li><a href="#our-homes">Our Homes</a></li>
        <li><a href="#the-map">The Map</a></li>
        <li><a href="#contact-us">Contact Us</a></li>
      </ul>
    </nav>
  </div>
</footer>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h3  class="modal-title text-center" id="modalTitle">name</h3>
        <h4 class="text-center greenColor" id="displayPrice"></h4>
      </div>

      <div class="modal-body">
        <form id="modal-form">
          <div class="form-group" disabled="true" hidden="true" aria-hidden="true">
            <label for="nameInput" disabled="true">Name</label>
            <input type="text" class="form-control" id="nameInput">
          </div>
          <div class="row">
            <h4 class="text-center lightGreyColor">Reservation details</h4>
            <hr>
            <div class="form-group col-md-3" disabled="true" hidden="true" aria-hidden="true">
              <label for="roomsInput">Rooms</label>
              <input type="number" class="form-control" id="roomsInput" min="1" required>
            </div>
            <div class="form-group col-sm-4">
              <label for="guestsInput">Guests</label>
              <input type="number" class="form-control" id="guestsInput" min="1" value="1" required>
            </div>
            <div class="form-group col-sm-4">
              <label id="nightsInputLabel" for="nightsInput"></label>
              <input id="nightsInput" type="number" class="form-control" min="1" value="1" required>
            </div>
            <div class="form-group col-sm-4">
              <label for="dateInput">Date</label>
              <input type="date" class="form-control" id="dateInput" required>
            </div>
          </div>
          <div class="row">
            <hr>
            <h4 class="text-center lightGreyColor">Card holder details</h4>
            <hr>
            <div class="form-group col-sm-6">
              <label for="customerName">Name</label>
              <input type="text" class="form-control" id="customerNameInput" required>
            </div>
            <div class="form-group col-sm-6">
              <label for="customerSurname">Surname</label>
              <input type="text" class="form-control" id="customerSurnameInput" required>
            </div>
            <div class="form-group col-sm-12">
              <label for="customerEmail">Email</label>
              <input type="email" class="form-control" id="customerEmailInput" required>
            </div>
         </div>
         <div class="form-check text-center">
          <input class="form-check-input" type="checkbox" id="termsCheck" required>
          <label class="form-check-label" for="termsCheck">
            I have read and agree to the <a href="#termsModal" data-toggle="modal">terms and conditions</a>.
          </label>
        </div>
        <div class="form-check">
           <button type="submit" class="btn btn-lg btn-success btn-block" id="submitDetails">Card payment</button>
        </div>
      </form>
      </div>
    </div>
  </div>
</div>
<script>
    var basePrice = 1000;
    var yoco
    
    function loadYocoSDK(callback) {
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.async = true;
      script.src = 'https://js.yoco.com/sdk/v1/yoco-sdk-web.js';
      script.onload = function () {
        console.log('Yoco SDK script loaded');
        callback();
      };
      document.getElementsByTagName('head')[0].appendChild(script);
    }

    loadYocoSDK(function () {
      console.log('Yoco SDK loaded');
      yoco = new window.YocoSDK({
        publicKey: 'pk_live_0996b0ab6604zGJ170f4',
      });

      var event = new Event('yocoSdkReady');
      document.dispatchEvent(event);
    });
    
    function showPaymentPopup() {
      var name = document.getElementById("nameInput").value;
      var clientName = document.getElementById("customerNameInput").value;
      var clientSurname = document.getElementById("customerSurnameInput").value;
      var clientEmail = document.getElementById("customerEmailInput").value;
      var numRooms = document.getElementById("roomsInput").value;
      var numGuests = document.getElementById("guestsInput").value;
      var numNights = document.getElementById("nightsInput").value;
      var typeLable = document.getElementById("nightsInputLabel").labelText;

      var paymentRequest = {
        amountInCents: price() * 100,
        currency: "ZAR",
        name: name,
        description: "Payment for " + numNights + " " + typeLable + " at " + name,
        metadata: {
          rooms: numRooms,
          guests: numGuests,
          nights: numNights,
          customer: {
            firstName: clientName,
            surname: clientSurname,
            email: clientEmail,
          }
        },
        callback: function(response) {
            console.log("response:");
            console.log(response);
          // handle payment response here
        }
      };

      yoco.showPopup(paymentRequest);
    }
    
    function setStartingDateTomorrow() {
      // Get the current date
      const today = new Date();

      // Add one day to the current date
      const tomorrow = new Date(today);
      tomorrow.setDate(today.getDate() + 1);

      // Format the date as YYYY-MM-DD for the input value
      const year = tomorrow.getFullYear();
      const month = (tomorrow.getMonth() + 1).toString().padStart(2, "0");
      const day = tomorrow.getDate().toString().padStart(2, "0");
      const formattedDate = `${year}-${month}-${day}`;

      // Set the value of the date input to the next day's date
      $("#dateInput").val(formattedDate);
      $("#dateInput").attr("min", formattedDate);
    }
    
    function setStartingDateToday() {
      // Get the current date
      const today = new Date();

      // Format the date as YYYY-MM-DD for the input value
      const year = today.getFullYear();
      const month = (today.getMonth() + 1).toString().padStart(2, "0");
      const day = today.getDate().toString().padStart(2, "0");
      const formattedDate = `${year}-${month}-${day}`;

      // Set the value of the date input to the next day's date
      $("#dateInput").val(formattedDate );
      $("#dateInput").attr("min", formattedDate);
    }
    
  // Set form values when modal is opened
  $('#myModal').on('show.bs.modal', function (event) {
    var button = $(event.relatedTarget); // Button that triggered the modal
    var maxRooms = button.data('max-rooms'); // Extract info from data-* attributes
    var maxPeople = button.data('max-people');
    var name = button.data('name');
    var bookingType = button.data('booking-type');
    basePrice = button.data('base-price');
    
    if (bookingType.includes("Hour(s)")) {
        setStartingDateToday()
    } else {
        setStartingDateTomorrow()
    }

    // Set form field values and attributes
    $('#nameInput').val(name);
    $('#roomsInput').val(maxRooms);
    $('#roomsInput').attr('max', maxRooms);
    $('#guestsInput').val(2);
    $('#guestsInput').attr('max', maxPeople);
    $('#modalTitle').text(name);
    $("#nightsInputLabel").text(bookingType);
    $("#displayPrice").text(formatedPrice());
  });

  // Reset form fields when modal is closed
  $('#myModal').on('hidden.bs.modal', function () {
    $('#nameInput').val('');
    $('#roomsInput').val('');
    $('#guestsInput').val('');
    $('#modalTitle').text('');
  });

  // Handle form data and close modal
  function saveChanges() {
    var name = $('#nameInput').val();
    var maxRooms = $('#roomsInput').val();
    var maxPeople = $('#guestsInput').val();

    $('#myModal').modal('hide');
    showPaymentPopup();
  }

  function price() {
    var bookingType = document.getElementById('nightsInputLabel').innerText;
    
    console.log(bookingType);
    
    //var numRooms = document.getElementById("roomsInput").value;
    var numGuests = document.getElementById("guestsInput").value;
    var numNights = document.getElementById("nightsInput").value;

    if (bookingType.includes("Hour(s)")) {
        return basePrice * numNights
    }
    
    var cleaning = 300;
    var additioanlGuestPrice = (numGuests - 1) * 500;

    return (basePrice + additioanlGuestPrice) * numNights + cleaning
  }

  function formatedPrice() {
    return Number(price()).toLocaleString('en-US', { style: 'currency', currency: 'ZAR' });
  }

  $('#modal-form').change(function() {
    $("#displayPrice").text(formatedPrice());
  });
  
</script>
<script>
  $(document).ready(function() {
  // Get a reference to the checkbox input and submit button
  var $checkbox = $('#termsCheck');
  var $submitBtn = $('#submitDetails');
  
  // Set the initial state of the submit button
  $submitBtn.prop('disabled', !$checkbox.prop('checked'));
  
  // Add an event listener to the checkbox input
  $checkbox.on('change', function() {
    // Toggle the disabled state of the submit button based on the checkbox value
    $submitBtn.prop('disabled', !$checkbox.prop('checked'));
  });
});
</script>
<!-- Terms Modal -->
<div class="modal fade" id="termsModal" tabindex="-1" role="dialog" aria-labelledby="termsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="termsModalLabel">Terms and Conditions</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Thank you for choosing to stay at Blue Sanctuary BNB. We strive to provide you with a comfortable and safe experience during your stay. Please carefully read our terms and conditions, which apply to all reservations made through our website and other third-party booking platforms.</p>

        <ol>
          <li>
            <b>Reservations:</b>
            <ol>
              <li>Guests may reserve your BnBs on booking.com, Airbnb, or your website.</li>
              <li>Guests who book on your website must provide a preferred check-in date.</li>
              <li>If the preferred date is not available, we will attempt to transfer the guest to another BnB or update their reservation to a future date.</li>
            </ol>
          </li>
          <li>
            <b>Refund Policy:</b>
            <ol>
              <li>Your website operates on Airbnb's Flexible Rebooking and Strict Refund Policy.</li>
              <li>If a guest must be refunded due to unforeseen circumstances, the refund will be processed within 7 working days of its approval.</li>
            </ol>
          </li>
          <li>
            <b>Assistance:</b>
            <ol>
              <li>Your website offers focused assistance to help Blue Sanctuary guests find and reserve their next stay at a Blue Sanctuary BnB.</li>
            </ol>
          </li>
          <li>
            <b>Liability:</b>
            <ol>
              <li>Blue Sanctuary BnB is an informal business.</li>
              <li>While we take cleaning and safety seriously and have private, secure accommodations, we cannot be held liable for any loss, damages, or injury suffered by guests or their property during their stay.</li>
            </ol>
          </li>
          <li>
            <b>Compliance:</b>
            <ol>
              <li>We do our best to comply with BnB laws and regulations in South Africa.</li>
            </ol>
          </li>
          <li>
            <b>Payment and Cancellation Policies:</b>
            <ol>
              <li>Guests will be charged based on the booking platform they used to reserve their stay.</li>
              <li>Please refer to the respective platform's payment and cancellation policies for more information.</li>
            </ol>
          </li>
          <li>
            <b>Check-in and Check-out Times:</b>
            <ol>
              <li>Please note the check-in and check-out times on the booking platform you used to reserve your stay.</li>
              <li>If you booked on our website, we will confirm the check-in time based on your preferred check-in date.</li>
            </ol>
          </li>
          <li>
            <b>House Rules:</b>
            <ol>
              <li>Please be respectful of other guests and our neighbors during your stay.</li>
              <li>Smoking is not allowed inside any of our BnBs, and pets are not permitted.</li>
            </ol>
          </li>
          <li>
            <b>Security Deposit:</b>
            <ol>
              <li>We require a security deposit to ensure that our properties are well taken care of during your stay.</li>
              <li>The amount of the security deposit will vary based on the BnB you reserve.</li>
            </ol>
          </li>
          <li>
            <b>Maintenance and Repairs:</b>
            <ol>
              <li>If you notice any issues with your BnB during your stay, please let us know so we can take care of it right away.</li>
              <li>We will cover the cost of any repairs that are our responsibility.</li>
            </ol>
          </li>
          <li>
            <b>Privacy Policy:</b>
            <ol>
              <li>Your privacy is important to us.</li>
              <li>We will only collect the information we need to make your stay comfortable, and we will never share your information with anyone else.</li>
            </ol>
          </li>
          <li>
            <b>Termination and Cancellation:</b>
          <ol>
            <li>We reserve the right to terminate or cancel a guest's reservation if they violate our house rules or fail to comply with our policies.</li>
            <li>If we need to cancel a reservation, we will notify the guest as soon as possible and refund any payment that has already been made.</li>
          </ol>
        </li>
      </ol>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div id="imageModal" class="modal">
  <span class="close">&times;</span>
  <a class="prev">&#10094;</a>
  <a class="next">&#10095;</a>
  <img class="modal-content" id="modalImage">
  <div id="modalCaption"></div>
</div>
<script>
  var modal = document.getElementById("imageModal");
  var modalImg = document.getElementById("modalImage");
  var captionText = document.getElementById("modalCaption");

  // Get all image elements in the carousel
  var carouselImages = document.querySelectorAll(".carousel-image");

  // Add click event listener to each image
  for (var i = 0; i < carouselImages.length; i++) {
    carouselImages[i].addEventListener("click", function() {
      modal.style.display = "block";
      modalImg.src = this.src;
      captionText.innerHTML = this.alt;
    });
  }

  // Click on the close button or outside the modal to close it
  var closeModal = function() {
    modal.style.display = "none";
  }

  window.onclick = function(event) {
    if (event.target == modal) {
      closeModal();
    }
  }
</script>
<script>
  function changeSlide(direction) {
    let currentIndex = Array.from(carouselImages).findIndex(img => img.src === modalImg.src);
    currentIndex = (currentIndex + direction + carouselImages.length) % carouselImages.length;
    modalImg.src = carouselImages[currentIndex].src;
    captionText.innerHTML = carouselImages[currentIndex].alt;
  }
</script>
<script>
  document.addEventListener("keydown", function(event) {
    if (event.key === "ArrowLeft") {
      changeSlide(-1);
    } else if (event.key === "ArrowRight") {
      changeSlide(1);
    }
  });
</script>

<script>
  // Carousel 1
  let carousel1Index = 0;
  const carousel1Images = [
    'https://cf2.bstatic.com/xdata/images/hotel/max1280x900/490329940.jpg?k=aa1015d90b141cc2d61c12101942772792ffb65622be1bf353f962a5a5c4a32b&o=&hp=1',
    'https://a0.muscache.com/im/pictures/miso/Hosting-50219412/original/5b77d730-a7e9-4a25-a7be-d8d90dbcefbb.jpeg?im_w=240',
    'https://a0.muscache.com/im/pictures/miso/Hosting-831222011142737017/original/ac90d1ad-1c25-4729-8f8a-78aef7b0f7d5.jpeg?im_w=240' 
  ];

  // Carousel 2
  let carousel2Index = 0;
  const carousel2Images = [
    'https://cf2.bstatic.com/xdata/images/hotel/max1280x900/490329940.jpg?k=aa1015d90b141cc2d61c12101942772792ffb65622be1bf353f962a5a5c4a32b&o=&hp=1',
    'https://a0.muscache.com/im/pictures/miso/Hosting-50219412/original/5b77d730-a7e9-4a25-a7be-d8d90dbcefbb.jpeg?im_w=240',
    'https://a0.muscache.com/im/pictures/miso/Hosting-831222011142737017/original/ac90d1ad-1c25-4729-8f8a-78aef7b0f7d5.jpeg?im_w=240'
  ];

  // Carousel 3
  let carousel3Index = 0;
  const carousel3Images = [
    'https://a0.muscache.com/im/pictures/miso/Hosting-831222011142737017/original/ac90d1ad-1c25-4729-8f8a-78aef7b0f7d5.jpeg?im_w=240',
    'https://a0.muscache.com/im/pictures/miso/Hosting-50219412/original/5b77d730-a7e9-4a25-a7be-d8d90dbcefbb.jpeg?im_w=240',
    'https://cf2.bstatic.com/xdata/images/hotel/max1280x900/490329940.jpg?k=aa1015d90b141cc2d61c12101942772792ffb65622be1bf353f962a5a5c4a32b&o=&hp=1'
  ];

  // Get modal elements
  const modalImage = document.getElementById('modalImage');
  const modalCaption = document.getElementById('modalCaption');
  const prevButton = document.querySelector('.prev');
  const nextButton = document.querySelector('.next');

  // Function to update modal with carousel images
  function updateModal(index, images) {
    modalImage.src = images[index];
    // modalCaption.textContent = `Image ${index + 1} of ${images.length}`;
  }

  // Event listeners for previous and next buttons
  prevButton.addEventListener('click', () => {
    let carouselIndex, carouselImages;

    if (carousel1Index === 0 && carousel2Index === 0 && carousel3Index === 0) {
      // Handle wraparound for all carousels at the beginning
      carousel1Index = carousel1Images.length - 1;
      carousel2Index = carousel2Images.length - 1;
      carousel3Index = carousel3Images.length - 1;
    } else if (carousel1Index === 0) {
      // Handle wraparound for carousel 1
      carousel1Index = carousel1Images.length - 1;
      carouselIndex = carousel2Index;
      carouselImages = carousel2Images;
    } else if (carousel2Index === 0) {
      // Handle wraparound for carousel 2
      carousel2Index = carousel2Images.length - 1;
      carouselIndex = carousel3Index;
      carouselImages = carousel3Images;
    } else if (carousel3Index === 0) {
      // Handle wraparound for carousel 3
      carousel3Index = carousel3Images.length - 1;
      carouselIndex = carousel1Index;
      carouselImages = carousel1Images;
    } else {
      carousel1Index--;
      carousel2Index--;
      carousel3Index--;
      carouselIndex = carousel1Index;
      carouselImages = carousel1Images;
    }

    updateModal(carouselIndex, carouselImages);
  });

  nextButton.addEventListener('click', () => {
    let carouselIndex, carouselImages;

    if (carousel1Index === carousel1Images.length - 1 &&
        carousel2Index === carousel2Images.length - 1 &&
        carousel3Index === carousel3Images.length - 1) {
      // Handle wraparound for all carousels at the end
      carousel1Index = 0;
      carousel2Index = 0;
      carousel3Index = 0;
    } else if (carousel1Index === carousel1Images.length - 1) {
      // Handle wraparound for carousel 1
      carousel1Index = 0;
      carouselIndex = carousel2Index;
      carouselImages = carousel2Images;
    } else if (carousel2Index === carousel2Images.length - 1) {
      // Handle wraparound for carousel 2
      carousel2Index = 0;
      carouselIndex = carousel3Index;
      carouselImages = carousel3Images;
    } else if (carousel3Index === carousel3Images.length - 1) {
      // Handle wraparound for carousel 3
      carousel3Index = 0;
      carouselIndex = carousel1Index;
      carouselImages = carousel1Images;
    } else {
      carousel1Index++;
      carousel2Index++;
      carousel3Index++;
      carouselIndex = carousel1Index;
      carouselImages = carousel1Images;
    }

    updateModal(carouselIndex, carouselImages);
  });

  // Initialize modal with first image of carousel 1
  updateModal(carousel1Index, carousel1Images);
</script>
  </body>
</html>

